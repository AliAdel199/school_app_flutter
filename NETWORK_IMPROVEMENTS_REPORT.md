# ุชุญุณูู ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุดุจูุฉ ูู Supabase

## ุงููุดููุฉ ุงูุฃุตููุฉ
ูุงู ุงููุณุชุฎุฏููู ููุงุฌููู ุฃุฎุทุงุก ุงูุชูุงุก ูููุฉ ุงูุงุชุตุงู (Timeout) ุนูุฏ ูุญุงููุฉ ุฅูุดุงุก ูุคุณุณุฉ ุชุนููููุฉ ุฌุฏูุฏุฉ:
```
โ ุฎุทุฃ ูู ุฅูุดุงุก ุงููุคุณุณุฉ: ClientException with SocketException: The semaphore timeout period has expired.
```

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุขููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ (Retry Mechanism)
- โ ุฅุถุงูุฉ ุฏุงูุฉ `_retryOperation()` ููุชุนุงูู ูุน ูุดู ุงูุทูุจุงุช
- โ ุฅุนุงุฏุฉ ุงููุญุงููุฉ 3 ูุฑุงุช ูุน ุชุฃุฎูุฑ ูุชุฒุงูุฏ (2, 4, 6 ุซูุงู)
- โ ุชุทุจูู ุขููุฉ retry ุนูู ุฌููุน ุงูุนูููุงุช ุงูุญุฑุฌุฉ:
  - `createEducationalOrganization()`
  - `createSchool()`
  - `createUser()`

### 2. ูุญุต ุญุงูุฉ ุงูุดุจูุฉ
- โ ุฅูุดุงุก `NetworkHelper` ููุชุญูู ูู:
  - ุญุงูุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
  - ุฅููุงููุฉ ุงููุตูู ูุฎุงุฏู Supabase
  - ููุน ุงูุงุชุตุงู ุงููุชุงุญ
- โ ูุญุต ุงูุดุจูุฉ ูุจู ุจุฏุก ุงูุนูููุงุช ุงููููุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุญุณุจ ููุน ุงููุดููุฉ

### 3. ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ
- โ ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ ููููููุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- โ ุชุญุฏูุฏ ููุน ุงูุฎุทุฃ (ุดุจูุฉุ timeoutุ ุฎุงุฏู)
- โ ุงูุชุฑุงุญุงุช ูุญู ุงููุดููุฉ ูููุณุชุฎุฏู
- โ ูุนูููุงุช ุชุดุฎูุตูุฉ ุฅุถุงููุฉ ูู ุงููููุณูู

### 4. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- โ ุฑุณุงุฆู ุชูุฏู ูุงุถุญุฉ ููู ุฎุทูุฉ:
  - "๐ ูุญุต ุญุงูุฉ ุงูุดุจูุฉ..."
  - "๐ ุงูุฎุทูุฉ 1: ุฅูุดุงุก ุงููุคุณุณุฉ ุงูุชุนููููุฉ..."
  - "๐ ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุงููุฏุฑุณุฉ..."
  - "๐ ุงูุฎุทูุฉ 3: ุฅูุดุงุก ุญุณุงุจ ุงููุฏูุฑ..."
- โ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก ูุน ุฅููุงููุฉ ุงููุชุงุจุนุฉ ูุญููุงู
- โ ุฅุฑุฌุงุน ูุนูููุงุช ููุตูุฉ ุนู ูุฌุงุญ/ูุดู ุงูุนูููุฉ

### 5. ุชุญุณููุงุช ุชูููุฉ
- โ ุชุนุทูู debug mode ูู ุงูุฅูุชุงุฌ
- โ ุฅุฒุงูุฉ ุงูุชุนูููุงุช ุงููุฏููุฉ ูุงูููุฏ ุบูุฑ ุงููุณุชุฎุฏู
- โ ุชุญุณูู ุงูุจููุฉ ูุงูุชูุธูู
- โ ุฅุถุงูุฉ ุงููุฒูุฏ ูู ูุนูููุงุช ุงูุชุดุฎูุต

## ุงููููุงุช ุงููุญุฏุซุฉ

### 1. `lib/services/supabase_service.dart`
- ุฅุถุงูุฉ ุฏุงูุฉ `_retryOperation()`
- ุชุญุฏูุซ `createEducationalOrganization()`
- ุชุญุฏูุซ `createSchool()`
- ุชุญุฏูุซ `createUser()`
- ุชุญุฏูุซ `createOrganizationWithSchool()`
- ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 2. `lib/helpers/network_helper.dart` (ุฌุฏูุฏ)
- ูุญุต ุญุงูุฉ ุงูุงุชุตุงู
- ูุญุต ุงููุตูู ูู Supabase
- ุชูุฑูุฑ ุดุงูู ุนู ุญุงูุฉ ุงูุดุจูุฉ

### 3. `lib/schoolregstristion.dart`
- ุชุญุณูู ูุนุงูุฌุฉ ูุชุงุฆุฌ Supabase
- ุฑุณุงุฆู ุฎุทุฃ ุฃูุถุญ ูููุณุชุฎุฏู
- ุงุณุชูุฑุงุฑูุฉ ุงูุนูู ุญุชู ูู ูุดู ุงูุชุฒุงูู

### 4. `lib/main.dart`
- ุชุนุทูู debug mode
- ุชุญุณูู ุฅุนุฏุงุฏุงุช Supabase

## ููููุฉ ุนูู ุงููุธุงู ุงูุฌุฏูุฏ

### ุนูุฏ ุญุฏูุซ ุฎุทุฃ ุดุจูุฉ:
1. **ุงููุญุงููุฉ ุงูุฃููู**: ูุญุงูู ุฅุฑุณุงู ุงูุทูุจ
2. **ูุดู ุงููุญุงููุฉ**: ููุชุธุฑ ุซุงููุชูู ููุญุงูู ูุฑุฉ ุฃุฎุฑู
3. **ุงููุญุงููุฉ ุงูุซุงููุฉ**: ููุชุธุฑ 4 ุซูุงู ุฅุถุงููุฉ ููุญุงูู ูุฑุฉ ุฃุฎูุฑุฉ
4. **ุงููุญุงููุฉ ุงูุซุงูุซุฉ**: ุฅูุง ุงููุฌุงุญ ุฃู ุงููุดู ุงูููุงุฆู

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุฌุฏูุฏุฉ:
- **ูุดููุฉ ุฅูุชุฑูุช**: "ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช. ุชุญูู ูู ุงุชุตุงูู ุจุงูุดุจูุฉ."
- **ูุดููุฉ ุฎุงุฏู**: "ูุง ูููู ุงููุตูู ุฅูู ุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุชุญูู ูู ุงุชุตุงูู ุฃู ุญุงูู ูุงุญูุงู."
- **ุงูุชูุงุก ูููุฉ**: "ุงูุชูุช ูููุฉ ุงูุงุชุตุงู. ุญุงูู ูุฑุฉ ุฃุฎุฑู."

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ
- โ ุชูููู ุฃุฎุทุงุก ุงูุชูุงุก ุงููููุฉ ุจูุณุจุฉ ูุจูุฑุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู ูุน ุฑุณุงุฆู ูุงุถุญุฉ
- โ ููุซูููุฉ ุฃุนูู ูู ุงูุจูุฆุงุช ุฐุงุช ุงูุงุชุตุงู ุงูุถุนูู
- โ ูุนูููุงุช ุชุดุฎูุตูุฉ ุฃูุถู ูููุทูุฑูู

## ุงุณุชุฎุฏุงู ุงูุชุญุณููุงุช
```dart
// ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู ุงูุฌุฏูุฏ
final result = await SupabaseService.createOrganizationWithSchool(
  organizationName: "ูุฏุฑุณุฉ ุงููุฌุงุญ",
  organizationEmail: "info@najah.edu.sa",
  // ... ุจุงูู ุงูุจุงุฑุงูุชุฑุงุช
);

// ุงูุชุญูู ูู ุงููุชูุฌุฉ
if (result != null && result['success'] == true) {
  print("ุชู ุฅูุดุงุก ุงููุคุณุณุฉ ุจูุฌุงุญ!");
} else if (result != null && result['success'] == false) {
  print("ูุดู: ${result['error']}");
  // ูุนุงูุฌุฉ ุงูุฎุทุฃ ุจูุงุกู ุนูู ููุนู
}
```

## ููุงุญุธุงุช ูููุฉ
- ุงููุธุงู ูุนูู ุงูุขู ุจุดูู ุฃูุถู ูุน ุงูุงุชุตุงูุงุช ุงูุจุทูุฆุฉ
- ูููู ููุชุทุจูู ุงููุชุงุจุนุฉ ูุงูุนูู ูุญููุงู ุญุชู ูู ูุดู ุงูุชุฒุงูู
- ุฌููุน ุงูุฃุฎุทุงุก ูุณุฌูุฉ ุจุชูุงุตูู ูุงููุฉ ูุณูููุฉ ุงูุชุดุฎูุต
- ุงููุธุงู ูุชูุงูู ูุน ุฌููุน ุฃููุงุน ุงูุดุจูุงุช (WiFi, Mobile Data)
