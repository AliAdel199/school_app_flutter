# ูุธุงู ุฅุฏุงุฑุฉ ุงููุฏุงุฑุณ - ุงูุฅุตุฏุงุฑ ุงููุญุณู 2.0

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุนุงุฏุฉ ุชุตููู ูุธุงู ุฅุฏุงุฑุฉ ุงููุฏุงุฑุณ ุจุงููุงูู ููููู ุฃูุซุฑ ุชูุธููุงู ูููุซูููุฉ ูุณูููุฉ ูู ุงูุตูุงูุฉ. ุงููุธุงู ุงูุฌุฏูุฏ ูุชุจุน ูุจุงุฏุฆ ุงูุจุฑูุฌุฉ ุงููุธููุฉ ููููุฑ ุฎุฏูุงุช ูููุตูุฉ ููู ูุธููุฉ.

## ๐ ูููู ุงููุธุงู ุงูุฌุฏูุฏ

### ุฎุฏูุงุช ุงููุธุงู (`lib/services/`)

#### 1. `database_service.dart` - ุฎุฏูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
- ุฅุฏุงุฑุฉ ุงูุงุชุตุงู ูุน Supabase
- ุขููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุนูุฏ ูุดู ุงูุดุจูุฉ
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- ูุญุต ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```dart
// ุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ
await DatabaseService.initialize();
final isConnected = DatabaseService.isEnabled;
```

#### 2. `device_service.dart` - ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ
- ุฌูุน ูุนูููุงุช ุงูุฌูุงุฒ (Android, iOS, Windows, Linux, macOS)
- ุฅูุดุงุก ุจุตูุฉ ูุฑูุฏุฉ ููุฌูุงุฒ
- ุงูุชุญูู ูู ุฃู ุงูุฌูุงุฒ ุญูููู ูููุณ ูุญุงูู

```dart
// ุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ
final deviceInfo = await DeviceService.getDisplayInfo();
final fingerprint = await DeviceService.generateDeviceFingerprint();
```

#### 3. `organization_service.dart` - ุฎุฏูุฉ ุงููุคุณุณุงุช ุงูุชุนููููุฉ
- ุฅูุดุงุก ุงููุคุณุณุงุช ูุงููุฏุงุฑุณ ูุงููุณุชุฎุฏููู
- ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงูุทูุงุจ
- ุฅูุดุงุก ูุคุณุณุฉ ูุชูุงููุฉ ุจุนูููุฉ ูุงุญุฏุฉ

```dart
// ุฅูุดุงุก ูุคุณุณุฉ ูุชูุงููุฉ
final result = await OrganizationService.createCompleteOrganization(
  organizationName: "ูุฏุฑุณุฉ ุงูููุถุฉ",
  organizationEmail: "admin@school.edu",
  schoolName: "ุงูุฅุนุฏุงุฏูุฉ ุงููุฑูุฒูุฉ",
  schoolType: "ูุฎุชูุท",
  adminName: "ุฃุญูุฏ ูุญูุฏ",
  adminEmail: "ahmed@school.edu",
  adminPassword: "securepassword",
);
```

#### 4. `subscription_service.dart` - ุฎุฏูุฉ ุงูุงุดุชุฑุงูุงุช ูุงูุชุฑุงุฎูุต
- ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุงุดุชุฑุงูุงุช
- ุดุฑุงุก ุงูููุฒุงุช ุงูุฅุถุงููุฉ
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู

```dart
// ุงูุชุญูู ูู ุงูุงุดุชุฑุงู
final status = await SubscriptionService.checkOrganizationSubscriptionStatus(orgId);
final hasOnlineReports = status['has_online_reports'];
```

#### 5. `reports_service.dart` - ุฎุฏูุฉ ุงูุชูุงุฑูุฑ
- ุฑูุน ุงูุชูุงุฑูุฑ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฌูุจ ุงูุชูุงุฑูุฑ ุงููุญููุธุฉ
- ุฅุญุตุงุฆูุงุช ุงูุชูุงุฑูุฑ
- ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู

```dart
// ุฑูุน ุชูุฑูุฑ
final result = await ReportsService.uploadOrganizationReport(
  organizationId: 1,
  reportType: "financial",
  reportTitle: "ุงูุชูุฑูุฑ ุงููุงูู ุงูุดูุฑู",
  reportData: reportData,
  period: "2024-01",
  generatedBy: "ุงููุธุงู",
);
```

#### 6. `unified_service.dart` - ุงูุฎุฏูุฉ ุงูููุญุฏุฉ
- ุชููุฆุฉ ุงููุธุงู ุจุงููุงูู
- ูุญุต ุญุงูุฉ ุฌููุน ุงูุฎุฏูุงุช
- ุชุดุฎูุต ุดุงูู ูููุธุงู
- ุฅุนุงุฏุฉ ุชุนููู ุงููุธุงู

```dart
// ุชููุฆุฉ ุงููุธุงู
final result = await UnifiedService.initializeSystem();
if (result['success']) {
  print('ุชู ุชููุฆุฉ ุงููุธุงู ุจูุฌุงุญ');
}

// ุชุดุฎูุต ุดุงูู
final diagnostic = await UnifiedService.performSystemDiagnostic();
print('ูุณุชูู ุงูุตุญุฉ: ${diagnostic['health_level']}');
```

#### 7. `system_bridge.dart` - ุฌุณุฑ ุงูุชูุงูู
- ุฑุจุท ุงููุธุงู ุงูุฌุฏูุฏ ุจุงูููุฏ ุงููุฏูู
- ุชูููุฑ ูุงุฌูุงุช ูุชูุงููุฉ ููุฎูู
- ุชุณููู ุนูููุฉ ุงูุงูุชูุงู

### ุงูุดุงุดุงุช ุงูุฌุฏูุฏุฉ (`lib/screens/`)

#### 1. `system_status_screen.dart` - ุดุงุดุฉ ุญุงูุฉ ุงููุธุงู
- ุนุฑุถ ุญุงูุฉ ุฌููุน ุงูุฎุฏูุงุช
- ูุชุงุฆุฌ ุงูุชุดุฎูุต ุงูุดุงูู
- ุฅุญุตุงุฆูุงุช ุงููุธุงู

### ุงูุงุฎุชุจุงุฑุงุช (`lib/tests/`)

#### 1. `quick_system_test_screen.dart` - ุงุฎุชุจุงุฑ ุณุฑูุน ูููุธุงู
- ุงุฎุชุจุงุฑ ุชููุฆุฉ ุงููุธุงู
- ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช
- ุชุดุฎูุต ุดุงูู
- ุนุฑุถ ููุฎุต ุงููุธุงู

## ๐ง ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฅุฏุงุฑุฉ ุฃูุถู ููุฃุฎุทุงุก
- ุขููุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุนูุฏ ูุดู ุงูุดุจูุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- ุชุณุฌูู ููุตู ููุฃุญุฏุงุซ

### 2. ุฏุนู ููุตุงุช ูุชุนุฏุฏุฉ
- Android ู iOS ููููุงุชู ุงูุฐููุฉ
- Windows ููุญุงุณูุจ ุงูุดุฎุตู
- Linux ู macOS ููุฃูุธูุฉ ุงูุฃุฎุฑู

### 3. ูุธุงู ุชุดุฎูุต ุดุงูู
- ูุญุต ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจุงูุดุจูุฉ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฌูุงุฒ
- ุชุญููู ุงูุงุดุชุฑุงูุงุช ูุงูููุฒุงุช

### 4. ุชุญุณููุงุช ุงูุฃูุงู
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ุจู SHA-256
- ุจุตูุฉ ูุฑูุฏุฉ ููู ุฌูุงุฒ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุฃุฌูุฒุฉ

### 5. ุฅุฏุงุฑุฉ ูุญุณูุฉ ููุชูุงุฑูุฑ
- ุฑูุน ุงูุชูุงุฑูุฑ ุจุฃูุงู
- ููุชุฑุฉ ูุจุญุซ ูุชูุฏู
- ุฅุญุตุงุฆูุงุช ููุตูุฉ
- ุชูุธูู ุงูุชูุงุฑูุฑ ุงููุฏููุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชููุฆุฉ ุงููุธุงู

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // ุชุดุบูู ุงูุชุทุจูู ูุน ุดุงุดุฉ ุงูุชููุฆุฉ
  runApp(SchoolManagementApp());
}
```

### 2. ูุญุต ุญุงูุฉ ุงููุธุงู

```dart
// ูู ุฃู ููุงู ูู ุงูุชุทุจูู
final systemSummary = await UnifiedService.getSystemSummary();
print('ุญุงูุฉ ุงููุธุงู: ${systemSummary['system_health']}');
```

### 3. ุงุณุชุฎุฏุงู ุงูุฎุฏูุงุช

```dart
// ุฅูุดุงุก ูุคุณุณุฉ ุฌุฏูุฏุฉ
final orgResult = await OrganizationService.createOrganization(
  name: "ูุฏุฑุณุชู",
  email: "info@myschool.edu",
);

// ุงูุชุญูู ูู ุงูุงุดุชุฑุงู
final subscription = await SubscriptionService.checkOrganizationSubscriptionStatus(orgId);

// ุฑูุน ุชูุฑูุฑ
final reportResult = await ReportsService.uploadReport(reportData);
```

## ๐ ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู

ูููุฑ ุงููุธุงู ุงูุฌุฏูุฏ ุฌุณุฑ ุชูุงูู (`SystemBridge`) ูุถูู ุนูู ุงูููุฏ ุงููุฏูู ุจุฏูู ุชุบููุฑุงุช:

```dart
// ุงุณุชุฎุฏุงู ุงูุทุฑู ุงููุฏููุฉ (ูุง ุชุฒุงู ุชุนูู)
final result = await SystemBridge.createOrganizationWithSchool(...);
final isEnabled = await SystemBridge.checkOnlineReportsSubscription();
```

## ๐ ุงูุชุดุฎูุต ูุงููุฑุงูุจุฉ

### ุดุงุดุฉ ุญุงูุฉ ุงููุธุงู
- ุงููุตูู ุนุจุฑ: Settings > System Status
- ุนุฑุถ ุญุงูุฉ ุฌููุน ุงูุฎุฏูุงุช
- ูุชุงุฆุฌ ุงูุชุดุฎูุต ุงูุดุงูู

### ุงุฎุชุจุงุฑ ุณุฑูุน ูููุธุงู
- ุงููุตูู ุนุจุฑ: Settings > Quick Test
- ุงุฎุชุจุงุฑ ุดุงูู ูุฌููุน ุงูููููุงุช
- ูุชุงุฆุฌ ููุฑูุฉ ุจุงูุฃููุงู

### ุณุฌูุงุช ุงููุธุงู
```dart
// ุชูุนูู ุงูุณุฌูุงุช ุงูููุตูุฉ
print('๐ ุจุฏุก ุงูุนูููุฉ...');
print('โ ูุฌุญุช ุงูุนูููุฉ');
print('โ ูุดูุช ุงูุนูููุฉ');
```

## ๐๏ธ ุงูุตูุงูุฉ ูุงูุชุทููุฑ

### ุฅุถุงูุฉ ุฎุฏูุฉ ุฌุฏูุฏุฉ
1. ุฅูุดุงุก ููู ุฎุฏูุฉ ูู `lib/services/`
2. ุชูููุฐ ุงููุธุงุฆู ุงููุทููุจุฉ
3. ุฅุถุงูุฉ ุงูุฎุฏูุฉ ุฅูู `UnifiedService`
4. ุชุญุฏูุซ `SystemBridge` ููุชูุงูู

### ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุฌุฏูุฏ
1. ุฅูุดุงุก ููู ุงุฎุชุจุงุฑ ูู `lib/tests/`
2. ุงุณุชุฎุฏุงู ุงูุฎุฏูุงุช ุงูููุฌูุฏุฉ
3. ุฅุถุงูุฉ ูุชุงุฆุฌ ููููุฉ ูููุถูุญ

### ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุชุญุฏูุซ ุงูู schemas ูู `DatabaseService`
2. ุฅุถุงูุฉ migration functions ุฅุฐุง ูุฒู ุงูุฃูุฑ
3. ุงุฎุชุจุงุฑ ุงูุชูุงูู ูุน ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ

## ๐ ุงูุฃูุงู

- ุชุดููุฑ ุฌููุน ูููุงุช ุงููุฑูุฑ
- ุญูุงูุฉ ูู SQL Injection
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุญูุงูุฉ ูู ุงููุฌูุงุช ุงูุดุงุฆุนุฉ

## ๐ ุฏุนู ุงููุบุงุช

- ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ
- ุฏุนู ุงูุงุชุฌุงู ูู ุงููููู ูููุณุงุฑ
- ุฑุณุงุฆู ุฎุทุฃ ุจุงูุนุฑุจูุฉ
- ุชูุงุฑูุฎ ุจุงูุชูููู ุงููุฌุฑู ูุงููููุงุฏู

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ุงููุดุงูู:
- ุฑุงุฌุน ุณุฌูุงุช ุงููุธุงู ุฃููุงู
- ุงุณุชุฎุฏู ุดุงุดุฉ ุงูุชุดุฎูุต ุงูุดุงูู
- ุชุญูู ูู ุญุงูุฉ ุงูุดุจูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ุงููุญุณู ูุญุงูุธ ุนูู ุฌููุน ุงููุธุงุฆู ุงูููุฌูุฏุฉ ูุน ุฅุถุงูุฉ ูููุฒุงุช ุฌุฏูุฏุฉ ูุชุญุณููุงุช ูู ุงูุฃุฏุงุก ูุงูููุซูููุฉ.
