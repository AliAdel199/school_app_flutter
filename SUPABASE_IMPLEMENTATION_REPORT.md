# ุชูุฑูุฑ ุชูููุฐ ุฅุถุงูุฉ ุงููุฏุงุฑุณ ุฅูู Supabase ูุงูุชูุงุฑูุฑ ุงูุฃูููุงูู

## โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ

### ๐ ุงููููุงุช ุงูููุดุฃุฉ ูุงูููุญุฏุซุฉ:

#### 1. **ุฎุฏูุงุช Supabase:**
- `lib/services/supabase_service.dart` - ุฎุฏูุฉ ุงูุงุชุตุงู ุงูุฃุณุงุณูุฉ ุจู Supabase
- `lib/services/online_reports_service.dart` - ุฎุฏูุฉ ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู
- `lib/services/services.dart` - ููู ุชุตุฏูุฑ ุงูุฎุฏูุงุช

#### 2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
- `lib/localdatabase/school.dart` - ุชู ุฅุถุงูุฉ ุญููู Supabase (`supabaseId`, `syncedWithSupabase`, `lastSyncAt`)

#### 3. **ูุงุฌูุฉ ุงููุณุชุฎุฏู:**
- `lib/schoolregstristion.dart` - ุชู ุชุญุฏูุซ ุนูููุฉ ุงูุชุณุฌูู ูุชุดูู Supabase
- `lib/widgets/online_report_widget.dart` - widget ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุดุงุดุงุช ุงูุชูุงุฑูุฑ

#### 4. **ุงูุฅุนุฏุงุฏุงุช:**
- `supabase_tables.sql` - ุณูุฑูุจุช ุฅูุดุงุก ุงูุฌุฏุงูู ูู Supabase
- `SUPABASE_SETUP_GUIDE.md` - ุฏููู ุงูุฅุนุฏุงุฏ ุงููุงูู

---

### ๐ง **ุงูููุฒุงุช ุงูููููุฐุฉ:**

#### ุฃุซูุงุก ุชุณุฌูู ุงููุฏุฑุณุฉ:
1. โ **ูุญุงููุฉ ุฅุถุงูุฉ ุงููุฏุฑุณุฉ ุฅูู Supabase**
2. โ **ุญูุธ ูุนุฑู Supabase ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ**
3. โ **ุนุฑุถ ุฑุณุงูุฉ ุชุฃููุฏ ูุน ุญุงูุฉ ุงูุงุชุตุงู**
4. โ **ุงูุนูู ุจุดูู ุทุจูุนู ุญุชู ูู ูุดู Supabase**

#### ุฎุฏูุงุช ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู:
1. โ **ุงูุชุญูู ูู ุชููุฑ ุงูุฎุฏูุฉ**
2. โ **ุฑูุน ุงูุชูุงุฑูุฑ ุงููุงููุฉ**
3. โ **ุฑูุน ุชูุงุฑูุฑ ุงูุทูุงุจ**
4. โ **ุฑูุน ุชูุงุฑูุฑ ุงูููุธููู**

---

### ๐๏ธ **ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Supabase:**

```sql
-- ุฌุฏูู ุงููุฏุงุฑุณ
CREATE TABLE schools (
  id SERIAL PRIMARY KEY,
  name VARCHAR NOT NULL,
  email VARCHAR,
  phone VARCHAR,
  address TEXT,
  logo_url VARCHAR,
  subscription_plan VARCHAR DEFAULT 'basic',
  subscription_status VARCHAR DEFAULT 'trial',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  trial_expires_at TIMESTAMPTZ,
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ุฌุฏูู ุงูุชูุงุฑูุฑ
CREATE TABLE reports (
  id SERIAL PRIMARY KEY,
  school_id INTEGER REFERENCES schools(id),
  report_type VARCHAR NOT NULL,
  report_data JSONB NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

### ๐ก **ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู:**

#### ูู ุงูููุฏ:
```dart
// ุงูุชุญูู ูู ุชููุฑ ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู
bool isAvailable = await OnlineReportsService.isOnlineReportsAvailable();

// ุฑูุน ุชูุฑูุฑ ูุงูู
bool success = await OnlineReportsService.uploadFinancialReport(
  reportData: {'income': 1000, 'expenses': 500}
);
```

#### ูู ุงููุงุฌูุงุช:
```dart
// ุฅุถุงูุฉ widget ูู ุดุงุดุงุช ุงูุชูุงุฑูุฑ
OnlineReportWidget(
  reportData: reportData,
  reportType: 'financial', // ุฃู 'students' ุฃู 'employees'
)
```

---

### ๐ **ุงูุฃูุงู:**
- โ **ุณูุงุณุงุช RLS ูููุนูุฉ**
- โ **ูู ูุฏุฑุณุฉ ุชุตู ูุจูุงูุงุชูุง ููุท**
- โ **ุญูุงูุฉ ุดุงููุฉ ููุจูุงูุงุช ุงูุญุณุงุณุฉ**

---

### ๐ **ุญุงูุงุช ุงูุชุดุบูู:**

#### ๐ **ูุชุตู ุจุงูุฅูุชุฑูุช + Supabase ูุนูู:**
- ุนุฑุถ: "โ๏ธ ุชู ุชูุนูู ุงููุฒุงููุฉ ูุน ุงูุณุญุงุจุฉ"
- ุนุฑุถ: "๐ ููุฒุฉ ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู ูุชุงุญุฉ"
- ุฅููุงููุฉ ุฑูุน ุงูุชูุงุฑูุฑ ููุณุญุงุจุฉ

#### โ **ุบูุฑ ูุชุตู ุฃู Supabase ูุง ูุนูู:**
- ุนุฑุถ: "โ๏ธ ูุถุน ุบูุฑ ูุชุตู - ุงูุชูุงุฑูุฑ ูุญูููุง ููุท"
- ุงูุชุทุจูู ูุนูู ุจุดูู ุทุจูุนู ูุญููุงู

---

### ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

1. **ุชูููุฐ SQL ูู Supabase:** ุงุณุชุฎุฏู ููู `supabase_tables.sql`
2. **ุชุญุฏูุซ ูุนุฑูุงุช Supabase:** ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ูุดุฑูุน ูุฎุชูู
3. **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:** ุชุฃูุฏ ูู ุนูู ุงูุงุชุตุงู ุจู Supabase
4. **ุฅุถุงูุฉ Widget ููุชูุงุฑูุฑ:** ุงุณุชุฎุฏู `OnlineReportWidget` ูู ุดุงุดุงุช ุงูุชูุงุฑูุฑ

---

### โจ **ุงููููุฎุต:**

ุชู ุชูููุฐ ูุธุงู ุดุงูู ูุฅุถุงูุฉ ุงููุฏุงุฑุณ ุฅูู Supabase ูุน ุฏุนู ุงูุชูุงุฑูุฑ ุงูุฃูููุงูู ูููุฒุฉ ุฅุถุงููุฉ. ุงููุธุงู ูุนูู ุจุดูู ุฐูู - ุฅุฐุง ุชููุฑ Supabase ูุนูู ุฃูููุงููุ ูุฅุฐุง ูู ูุชููุฑ ูุนูู ูุญููุงู ุจุฏูู ุฃู ูุดุงูู.

**ุงููุชูุฌุฉ:** ูุธุงู ูุฑู ูููู ูุฏุนู ุงูุนูู ุงููุฌูู (ูุญูู + ุณุญุงุจู) ๐ฏ
